{"ast":null,"code":"import * as React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useLayout } from \"../hooks\";\nimport { Icon, Layout, useTheme } from '@ui-kitten/components';\nimport Animated, { Easing, useAnimatedStyle, useSharedValue, withTiming } from 'react-native-reanimated';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearAlert, setAppAlert } from \"../reduxs/reducers/app-reducer\";\nimport Text from \"./Text\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AppMessage = function AppMessage() {\n  var alert = useSelector(function (state) {\n    return state.app.alert;\n  });\n  var offset = useSharedValue(1);\n  var dispatch = useDispatch();\n  var delayTimeoutRef = React.useRef([]);\n  var _useLayout = useLayout(),\n    width = _useLayout.width,\n    height = _useLayout.height,\n    top = _useLayout.top;\n  var themes = useTheme();\n  var clearAllTimeout = function clearAllTimeout() {\n    var _delayTimeoutRef$curr;\n    delayTimeoutRef == null ? void 0 : (_delayTimeoutRef$curr = delayTimeoutRef.current) == null ? void 0 : _delayTimeoutRef$curr.map(function (id) {\n      clearTimeout(id);\n    });\n  };\n  var renderIcon = function renderIcon() {\n    switch (alert == null ? void 0 : alert.type) {\n      case 'notification':\n        return _jsx(Icon, {\n          pack: \"assets\",\n          name: \"bell-ringing\",\n          style: styles.icon\n        });\n      case 'success':\n        return _jsx(Icon, {\n          pack: \"assets\",\n          name: \"success\",\n          style: styles.icon\n        });\n      case 'error':\n        return _jsx(Icon, {\n          pack: \"assets\",\n          name: \"error\",\n          style: styles.icon\n        });\n      default:\n        return _jsx(Icon, {\n          pack: \"assets\",\n          name: \"bell-ringing\",\n          style: styles.icon\n        });\n    }\n  };\n  var getColor = function getColor() {\n    switch (alert == null ? void 0 : alert.type) {\n      case 'notification':\n        return themes['background-basic-color-2'];\n      case 'success':\n        return themes['color-success-default'];\n      case 'error':\n        return themes['color-danger-default'];\n      default:\n        return themes['background-basic-color-2'];\n    }\n  };\n  var onClose = function onClose() {\n    offset.value = withTiming(1);\n    dispatch(setAppAlert(null));\n  };\n  React.useEffect(function () {\n    if (alert) {\n      var _delayTimeoutRef$curr2;\n      offset.value = withTiming(1, {\n        duration: 400,\n        easing: Easing.bezier(0.25, 0.1, 0.25, 1)\n      });\n      offset.value = withTiming(0, {\n        duration: 400,\n        easing: Easing.bezier(0.25, 0.1, 0.25, 1)\n      });\n      clearAllTimeout();\n      var newDelayId = setTimeout(function () {\n        onClose();\n      }, 5000);\n      delayTimeoutRef == null ? void 0 : (_delayTimeoutRef$curr2 = delayTimeoutRef.current) == null ? void 0 : _delayTimeoutRef$curr2.push(newDelayId);\n    }\n  }, [alert]);\n  var animatedStyles = useAnimatedStyle(function () {\n    var _f = function _f() {\n      return {\n        width: width,\n        alignSelf: 'center',\n        alignItems: 'flex-start',\n        height: height,\n        transform: [{\n          translateX: offset.value * (width / 3 + 24)\n        }]\n      };\n    };\n    _f._closure = {\n      width: width,\n      height: height,\n      offset: offset\n    };\n    _f.asString = \"function _f(){const{width,height,offset}=jsThis._closure;{return{width:width,alignSelf:'center',alignItems:'flex-start',height:height,transform:[{translateX:offset.value*(width/3+24)}]};}}\";\n    _f.__workletHash = 9519561870889;\n    _f.__location = \"/Users/aaron/Documents/Aaron/Code/recordRadio/src/components/AppMessage.tsx (84:42)\";\n    _f.__optimalization = 3;\n    return _f;\n  }());\n  return alert ? _jsxs(Animated.View, {\n    style: [styles.container, animatedStyles],\n    children: [_jsx(TouchableOpacity, {\n      style: {\n        width: width,\n        height: height\n      },\n      activeOpacity: 1,\n      onPress: function onPress() {\n        dispatch(clearAlert());\n      }\n    }), _jsxs(Layout, {\n      style: [styles.content, {\n        borderColor: getColor(),\n        shadowColor: getColor(),\n        top: top + 40,\n        width: width - 32\n      }],\n      children: [renderIcon(), _jsxs(Layout, {\n        style: styles.contentTitle,\n        children: [_jsx(Text, {\n          category: \"c1\",\n          children: alert == null ? void 0 : alert.title\n        }), _jsx(Text, {\n          category: \"c2\",\n          children: alert == null ? void 0 : alert.message\n        })]\n      })]\n    })]\n  }) : null;\n};\nexport default AppMessage;\nvar styles = StyleSheet.create({\n  container: {\n    borderRadius: 8,\n    overflow: 'hidden',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    zIndex: 100\n  },\n  contentTitle: {\n    justifyContent: 'space-between'\n  },\n  icon: {\n    width: 40,\n    height: 40,\n    alignSelf: 'center',\n    marginRight: 8\n  },\n  content: {\n    borderWidth: 1,\n    borderRadius: 8,\n    flexDirection: 'row',\n    padding: 8,\n    position: 'absolute',\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 5.46,\n    elevation: 9,\n    left: 16,\n    alignSelf: 'flex-start'\n  }\n});","map":{"version":3,"names":["React","StyleSheet","TouchableOpacity","useLayout","Icon","Layout","useTheme","Animated","Easing","useAnimatedStyle","useSharedValue","withTiming","useDispatch","useSelector","clearAlert","setAppAlert","Text","jsx","_jsx","jsxs","_jsxs","AppMessage","alert","state","app","offset","dispatch","delayTimeoutRef","useRef","_useLayout","width","height","top","themes","clearAllTimeout","_delayTimeoutRef$curr","current","map","id","clearTimeout","renderIcon","type","pack","name","style","styles","icon","getColor","onClose","value","useEffect","_delayTimeoutRef$curr2","duration","easing","bezier","newDelayId","setTimeout","push","animatedStyles","_f","alignSelf","alignItems","transform","translateX","_closure","asString","__workletHash","__location","__optimalization","View","container","children","activeOpacity","onPress","content","borderColor","shadowColor","contentTitle","category","title","message","create","borderRadius","overflow","position","right","left","bottom","zIndex","justifyContent","marginRight","borderWidth","flexDirection","padding","shadowOffset","shadowOpacity","shadowRadius","elevation"],"sources":["/Users/aaron/Documents/Aaron/Code/recordRadio/src/components/AppMessage.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  StyleSheet,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n} from 'react-native';\n// ----------------------------- @Hooks -----------------------------------\nimport {useLayout} from 'hooks';\n// ----------------------------- @UU kitten -----------------------------------\nimport {Icon, Layout, useTheme} from '@ui-kitten/components';\n// ----------------------------- @Reduxs -----------------------------------\nimport Animated, {\n  Easing,\n  useAnimatedStyle,\n  useSharedValue,\n  withTiming,\n} from 'react-native-reanimated';\n// ----------------------------- @Reduxs -----------------------------------\nimport {useDispatch, useSelector} from 'react-redux';\nimport {clearAlert, setAppAlert} from 'reduxs/reducers/app-reducer';\nimport {AppDispatch, RootState} from 'reduxs/store';\n// ----------------------------- @Text -----------------------------------\nimport Text from './Text';\n\nconst AppMessage = () => {\n  const alert = useSelector((state: RootState) => state.app.alert);\n  const offset = useSharedValue(1);\n  const dispatch = useDispatch<AppDispatch>();\n  const delayTimeoutRef = React.useRef<NodeJS.Timeout[]>([]);\n  const {width, height, top} = useLayout();\n  const themes = useTheme();\n  const clearAllTimeout = () => {\n    delayTimeoutRef?.current?.map(id => {\n      clearTimeout(id);\n    });\n  };\n\n  const renderIcon = () => {\n    switch (alert?.type) {\n      case 'notification':\n        return <Icon pack=\"assets\" name=\"bell-ringing\" style={styles.icon} />;\n      case 'success':\n        return <Icon pack=\"assets\" name=\"success\" style={styles.icon} />;\n      case 'error':\n        return <Icon pack=\"assets\" name=\"error\" style={styles.icon} />;\n      default:\n        return <Icon pack=\"assets\" name=\"bell-ringing\" style={styles.icon} />;\n    }\n  };\n  const getColor = () => {\n    switch (alert?.type) {\n      case 'notification':\n        return themes['background-basic-color-2'];\n      case 'success':\n        return themes['color-success-default'];\n      case 'error':\n        return themes['color-danger-default'];\n      default:\n        return themes['background-basic-color-2'];\n    }\n  };\n\n  const onClose = () => {\n    offset.value = withTiming(1);\n    dispatch(setAppAlert(null));\n  };\n  React.useEffect(() => {\n    if (alert) {\n      offset.value = withTiming(1, {\n        duration: 400,\n        easing: Easing.bezier(0.25, 0.1, 0.25, 1),\n      });\n      offset.value = withTiming(0, {\n        duration: 400,\n        easing: Easing.bezier(0.25, 0.1, 0.25, 1),\n      });\n      clearAllTimeout();\n      let newDelayId = setTimeout(() => {\n        onClose();\n      }, 5000);\n      delayTimeoutRef?.current?.push(newDelayId);\n    }\n  }, [alert]);\n  const animatedStyles = useAnimatedStyle(() => {\n    return {\n      width: width,\n      alignSelf: 'center',\n      alignItems: 'flex-start',\n      height: height,\n      transform: [\n        {\n          translateX: offset.value * (width / 3 + 24),\n        },\n      ],\n    };\n  });\n  return alert ? (\n    <Animated.View style={[styles.container, animatedStyles]}>\n      <TouchableOpacity\n        style={{width: width, height: height}}\n        activeOpacity={1}\n        onPress={() => {\n          dispatch(clearAlert());\n        }}\n      />\n      <Layout\n        style={[\n          styles.content,\n          {\n            borderColor: getColor(),\n            shadowColor: getColor(),\n            top: top + 40,\n            width: width - 32,\n          },\n        ]}>\n        {renderIcon()}\n        <Layout style={styles.contentTitle}>\n          <Text category=\"c1\">{alert?.title}</Text>\n          <Text category=\"c2\">{alert?.message}</Text>\n        </Layout>\n      </Layout>\n    </Animated.View>\n  ) : null;\n};\n\nexport default AppMessage;\n\nconst styles = StyleSheet.create({\n  container: {\n    borderRadius: 8,\n    overflow: 'hidden',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    zIndex: 100,\n  },\n  contentTitle: {\n    justifyContent: 'space-between',\n  },\n  icon: {\n    width: 40,\n    height: 40,\n    alignSelf: 'center',\n    marginRight: 8,\n  },\n  content: {\n    borderWidth: 1,\n    borderRadius: 8,\n    flexDirection: 'row',\n    padding: 8,\n    position: 'absolute',\n    shadowOffset: {\n      width: 0,\n      height: 4,\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 5.46,\n    elevation: 9,\n    left: 16,\n    alignSelf: 'flex-start',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}